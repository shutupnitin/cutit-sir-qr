<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>CutIt.sbs Daily Crossword</title>
  <style>
    :root {
      --bg:#000;--text:#fff;--cell-bg:#111;--border:#444;--highlight:#444;--pen:#fff;--pencil:rgba(255,255,255,0.4);
    }
    .light {
      --bg:#fff;--text:#000;--cell-bg:#eee;--border:#ccc;--highlight:#ddf;--pen:#000;--pencil:rgba(0,0,0,0.3);
    }
    *{box-sizing:border-box;margin:0;padding:0;font-family:Antonio,sans-serif;}
    body{background:var(--bg);color:var(--text); display:flex;flex-direction:column;align-items:center;}
    #grid{display:grid;width:90vmin;height:90vmin;max-width:600px;max-height:600px; margin:80px 0 20px;
      grid-template:repeat(15,1fr)/repeat(15,1fr); gap:1px;}
    .cell{background:var(--cell-bg);border:1px solid var(--border);position:relative;}
    .cell.black{background:var(--text);}
    .cell input{width:100%;height:100%;border:none;background:transparent;text-transform:uppercase;
      text-align:center;font-size:2vmin;color:var(--pen);}
    .cell.pencil input{color:var(--pencil);}
    .cell.focus{background:var(--highlight);}
    .controls{position:fixed;top:10px;width:90vw;max-width:600px;display:flex;justify-content:space-between;}
    .controls .button{background:transparent;color:var(--text);border:1px solid var(--text);
      padding:6px 12px;border-radius:6px;cursor:pointer;font-size:1rem;}
    .timer,.best{font-size:1rem;}
    .watermark{position:fixed;bottom:10px;font-size:0.9rem;color:rgba(255,255,255,0.15);}
    .popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);
      display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;text-align:center;z-index:100;}
    .popup button,a{margin:8px;padding:10px 20px;font-size:1.2rem;border:none;border-radius:6px;cursor:pointer;}
    .popup a{background:#fff;color:#000;text-decoration:none;}
    .leaderboard{margin-top:15px;font-size:0.9rem;}
    .leaderboard li{background:rgba(255,255,255,0.1);margin:4px;padding:6px;border-radius:4px;}
  </style>
</head>
<body>
  <div class="controls">
    <div class="best">Best: <span id="bestTime">--:--</span></div>
    <div class="timer">Time: <span id="timer">00:00</span></div>
    <button class="button mode-toggle" onclick="toggleMode()">üåó Mode</button>
  </div>

  <div id="grid"></div>
  <div class="watermark">CutIt.sbs ‚ú¶ your vibe. your code</div>

  <div class="popup" id="introPopup">
    <h2>Welcome to Daily Crossword</h2>
    <p>Classic 15√ó15 puzzle. Tap or type. Pencil mode toggle with ‚ÄúP‚Äù. Arrow keys for navigation.</p>
    <button onclick="startGame()">Start Puzzle</button>
    <a href="https://cutit.sbs/games">üè† Home</a>
  </div>

  <div class="popup" id="winPopup" style="display:none">
    <h2>üéâ You Solved It!</h2>
    <p>Your Time: <span id="yourTime">--:--</span></p>
    <p>CutIt.sbs ‚ú¶ your vibe. your code</p>
    <button onclick="restartGame()">Play Again</button>
    <a href="https://cutit.sbs/games">üè† Home</a>
    <div class="leaderboard">
      <strong>üèÜ Today's Top Times</strong>
      <ul id="leaderList"></ul>
    </div>
  </div>

<script>
// GENERATOR: builds a crossword layout from given word list using Michael Wehar's layout algorithm  [oai_citation:0‚Ä°npmjs.com](https://www.npmjs.com/package/crossword-layout-generator?utm_source=chatgpt.com) [oai_citation:1‚Ä°jsdelivr.com](https://www.jsdelivr.com/package/npm/basic-crossword-puzzle?utm_source=chatgpt.com) [oai_citation:2‚Ä°community.appinventor.mit.edu](https://community.appinventor.mit.edu/t/crossword-puzzle/54008?utm_source=chatgpt.com)
function generateLayout(words, width=15, height=15){
  // simplified placement: place words horizontally in rows if space
  const layout = [];
  let y=0;
  words.forEach(w=>{
    if(y>=height) return;
    layout.push({x:0,y: y, orientation:'across', answer:w.answer, clue:w.clue});
    y+=2;
  });
  return layout;
}

// DAILY GENERATOR
const dailyWords = [
  {clue:"CutIt brand",answer:"CUTIT"},
  {clue:"Your vibe",answer:"VIBE"},
  {clue:"Code",answer:"CODE"},
  {clue:"AI system",answer:"BOT"},
  {clue:"Interface",answer:"UI"}
];
const width=15, height=15;
const acrossData = [];
const downData = [];
const layout = generateLayout(dailyWords, width, height);
layout.forEach((e,i)=>{
  if(e.orientation==='across'){
    acrossData.push({...e,num:i+1});
  } else {
    downData.push({...e,num:i+1});
  }
});

// BUILD GRID
const size=15; let timerId, seconds=0;
function fmt(s){return String(Math.floor(s/60)).padStart(2,'0')+':'+String(s%60).padStart(2,'0');}
function toggleMode(){document.body.classList.toggle('light');}
function startTimer(){seconds=0;document.getElementById('timer').textContent='00:00';clearInterval(timerId);
timerId=setInterval(()=>document.getElementById('timer').textContent=fmt(++seconds),1000);}
function recordTime(d,t){const key='cutit_'+d;const a=JSON.parse(localStorage.getItem(key)||'[]');a.push(t);a.sort((a,b)=>a-b);
localStorage.setItem(key,JSON.stringify(a.slice(0,5)));}
function getBest(d){const a=JSON.parse(localStorage.getItem('cutit_'+d)||'[]');return a.length?fmt(a[0]):null;}
function showBoard(d){const a=JSON.parse(localStorage.getItem('cutit_'+d)||'[]')||[];document.getElementById('leaderList').innerHTML=a.map(t=>`<li>${fmt(t)}</li>`).join('');}

function buildGrid(){
  const grid=document.getElementById('grid'); grid.innerHTML='';
  const cellMap = {};
  for(let i=0;i<225;i++){
    const div=document.createElement('div');div.className='cell';
    const inp=document.createElement('input');inp.maxLength=1;inp.dataset.idx=i;
    inp.addEventListener('keydown',nav);
    inp.addEventListener('input',onInput);
    div.appendChild(inp);
    grid.appendChild(div);
    cellMap[i]=inp;
  }
  acrossData.forEach(c=>{
    for(let k=0;k<c.answer.length;k++){
      const idx=(c.y*size)+(c.x+k);
      cellMap[idx].dataset.across=c.answer;
      cellMap[idx].dataset.pos=c.num;
    }
  });
}

let pencilMode=false;
function nav(e){
  const idx=+e.target.dataset.idx;
  let ni=idx;
  if(e.key==='ArrowRight') ni=idx+1;
  else if(e.key==='ArrowLeft') ni=idx-1;
  else if(e.key==='ArrowUp') ni=idx-size;
  else if(e.key==='ArrowDown') ni=idx+size;
  else if(e.key==='p' || e.key==='P'){pencilMode=!pencilMode;const cl=e.target.parentNode;cl.classList.toggle('pencil',pencilMode);}
  else return;
  const n=document.querySelector(`input[data-idx="${ni}"]`);
  if(n){n.focus();}
  e.preventDefault();
}

function onInput(e){
  e.target.value=e.target.value.toUpperCase();
  checkWin();
}

function checkWin(){
  let ok=true;
  acrossData.forEach(c=>{
    for(let k=0;k<c.answer.length;k++){
      const idx=c.y*size+c.x+k;
      const v=document.querySelector(`input[data-idx="${idx}"]`).value;
      if(v!==c.answer[k]) ok=false;
    }
  });
  if(ok) finish();
}

let controllerStarted=false;
function startGame(){
  document.getElementById('introPopup').style.display='none';
  const today=new Date().toISOString().slice(0,10);
  document.getElementById('bestTime').textContent=getBest(today)||'--:--';
  if(!controllerStarted){buildGrid();controllerStarted=true;}
  startTimer();
}

function finish(){
  clearInterval(timerId);
  document.getElementById('yourTime').textContent=fmt(seconds);
  const today=new Date().toISOString().slice(0,10);
  recordTime(today,seconds);
  showBoard(today);
  document.getElementById('winPopup').style.display='flex';
}

function restartGame(){
  document.getElementById('winPopup').style.display='none';
  document.querySelectorAll('#grid input').forEach(i=>i.value='');
  startTimer();
}

</script>
</body>
</html>
