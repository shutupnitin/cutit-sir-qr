<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>CutIt.sbs Crossword</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Antonio:wght@400;700&display=swap');
  :root {--bg:#000;--text:#fff;--cell:#111;--border:#444;--highlight:#555;--pen:#fff;--pencil:rgba(255,255,255,0.4);}
  .light {--bg:#fff;--text:#000;--cell:#eee;--border:#ccc;--highlight:#ddf;--pen:#000;--pencil:rgba(0,0,0,0.3);}
  *{box-sizing:border-box;margin:0;padding:0;font-family:'Antonio',sans-serif;}
  body{background:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;}
  #grid{display:grid;width:90vmin;height:90vmin;max-width:600px;max-height:600px;margin:80px 0 20px;
    grid-template:repeat(15,1fr)/repeat(15,1fr);gap:1px;}
  .cell{background:var(--cell);border:1px solid var(--border);position:relative;}
  .cell.black{background:var(--text);}
  .cell input{width:100%;height:100%;border:none;background:transparent;text-transform:uppercase;
    text-align:center;font-size:2vmin;color:var(--pen);}
  .cell.pencil input{color:var(--pencil);}
  .cell.focus{background:var(--highlight);}
  .controls{position:fixed;top:10px;width:90vw;max-width:600px;display:flex;justify-content:space-between;}
  .button{background:transparent;color:var(--text);border:1px solid var(--text);
    padding:6px 12px;border-radius:6px;cursor:pointer;font-size:1rem;}
  .timer,.best{font-size:1rem;}
  .watermark{position:fixed;bottom:10px;font-size:0.9rem;color:rgba(255,255,255,0.15);}
  .popup{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);
    display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;text-align:center;z-index:100;}
  .popup button,a{margin:8px;padding:10px 20px;font-size:1.2rem;border:none;border-radius:6px;cursor:pointer;}
  .popup a{background:#fff;color:#000;text-decoration:none;}
  .leaderboard{margin-top:15px;font-size:0.9rem;}
  .leaderboard li{background:rgba(255,255,255,0.1);margin:4px;padding:6px;border-radius:4px;}
</style>
<body>
  <div class="controls">
    <div class="best">Best: <span id="bestTime">--:--</span></div>
    <div class="timer">Time: <span id="timer">00:00</span></div>
    <button class="button" onclick="document.body.classList.toggle('light')">üåó Mode</button>
  </div>
  <div id="grid"></div>
  <div class="watermark">CutIt.sbs ‚ú¶ your vibe. your code</div>
  <div class="popup" id="introPopup">
    <h2>Welcome to Crossword</h2><p>Tap or type. Arrow nav. ‚ÄúP‚Äù toggles pencil.</p>
    <button onclick="startGame()">Start Puzzle</button>
    <a href="https://cutit.sbs/games">üè† Home</a>
  </div>
  <div class="popup" id="winPopup" style="display:none">
    <h2>üéâ You Solved It!</h2><p>Your Time: <span id="yourTime">--:--</span></p>
    <p>CutIt.sbs ‚ú¶ your vibe. your code</p>
    <button onclick="restartGame()">Play Again</button>
    <a href="https://cutit.sbs/games">üè† Home</a>
    <div class="leaderboard"><strong>üèÜ Today's Top Times</strong><ul id="leaderList"></ul></div>
  </div>
<script>
// Word + clue list
const words = [
  {w:"MEME",c:"Gen Z communication"},
  {w:"VIRAL",c:"Quickly spreading"},
  {w:"CODE",c:"What devs write"},
  {w:"BOT",c:"Automated helper"},
  {w:"VIBE",c:"Mood"},
  {w:"UI",c:"User Interface"}];
const size=15;
let across=[];
// pick three or two words depending length
words.sort((a,b)=>b.w.length - a.w.length);
across = words.slice(0,3).map((e,i)=>({x:1,y: i*5+2,answer:e.w,clue:e.c,num:i+1}));
let timerId,sec=0, today = new Date().toISOString().slice(0,10);

function fmt(s){return String(Math.floor(s/60)).padStart(2,'0')+':'+String(s%60).padStart(2,'0');}
function startTimer(){sec=0;clearInterval(timerId);timerId=setInterval(()=>{sec++;document.getElementById('timer').textContent=fmt(sec);},1000);}
function rec(d,t){let k='cutit_'+d;let a=JSON.parse(localStorage.getItem(k)||'[]');a.push(t);a.sort((a,b)=>a-b);localStorage.setItem(k,JSON.stringify(a.slice(0,5)));}
function best(d){let a=JSON.parse(localStorage.getItem('cutit_'+d)||'[]');return a.length?fmt(a[0]):null;}
function showBoard(d){let a=JSON.parse(localStorage.getItem('cutit_'+d)||'[]')||[];document.getElementById('leaderList').innerHTML=a.map(t=>`<li>${fmt(t)}</li>`).join('');}

function build(){
  let grid=document.getElementById('grid');grid.innerHTML='';
  for(let i=0;i<size*size;i++){
    let div=document.createElement('div');div.className='cell';
    let inp=document.createElement('input');inp.maxLength=1;inp.dataset.i=i;
    inp.addEventListener('keydown',nav);inp.addEventListener('input',onI);
    div.appendChild(inp);grid.appendChild(div);
  }
  across.forEach(c=>{for(let k=0;k<c.answer.length;k++){
    let idx = c.y*size + c.x + k;
    let inp=document.querySelector(`input[data-i="${idx}"]`);
    inp.dataset.ans=c.answer;inp.dataset.num=c.num;
  }});
}

function nav(e){
  let i=+e.target.dataset.i,n=i;
  if(e.key==='ArrowRight') n=i+1;
  else if(e.key==='ArrowLeft') n=i-1;
  else if(e.key==='ArrowDown') n=i+size;
  else if(e.key==='ArrowUp') n=i-size;
  else if(e.key==='p'||e.key==='P'){e.target.parentNode.classList.toggle('pencil');return;}
  else return;
  let ni=document.querySelector(`input[data-i="${n}"]`); if(ni) ni.focus();
  e.preventDefault();
}
function onI(e){
  e.target.value=e.target.value.toUpperCase();
  check();
}
function check(){
  let ok=true;
  across.forEach(c=>{for(let k=0;k<c.answer.length;k++){let idx=c.y*size+c.x+k;
      if(document.querySelector(`input[data-i="${idx}"]`).value!==c.answer[k]) ok=false;}});
  if(ok) finish();
}

function startGame(){
  document.getElementById('introPopup').style.display='none';
  document.getElementById('bestTime').textContent=best(today)||'--:--';
  build();startTimer();
}
function finish(){
  clearInterval(timerId);document.getElementById('yourTime').textContent=fmt(sec);
  rec(today,sec);showBoard(today);document.getElementById('winPopup').style.display='flex';
}
function restartGame(){
  document.getElementById('winPopup').style.display='none';
  document.querySelectorAll('input').forEach(i=>i.value='');startTimer();
}
</script>
</body>
</html>
