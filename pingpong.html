<!-- FULL HTML FILE: Ping Pong w/ Touch Support -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ping Pong | CutIt.sbs</title>
  <link href="https://fonts.googleapis.com/css2?family=Antonio:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Antonio', sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    header, footer {
      background: #111;
      text-align: center;
      padding: 12px;
    }
    header {
      font-size: 2em;
      border-bottom: 2px solid white;
    }
    footer {
      font-size: 0.9em;
      border-top: 2px solid white;
    }
    canvas {
      flex: 1;
      display: block;
      background: #000;
      touch-action: none;
    }
    #leaderboardBox {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #111;
      padding: 10px;
      font-size: 0.9em;
      border: 1px solid #fff;
    }
    .highScore {
      color: #0f0;
      animation: flicker 0.2s infinite alternate;
    }
    @keyframes flicker {
      from { opacity: 0.7; }
      to { opacity: 1; }
    }
    #modeToggle {
      position: absolute;
      top: 20px;
      left: 20px;
      background: #111;
      color: #fff;
      padding: 6px 10px;
      border: 1px solid white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>üèì CutIt.sbs Ping Pong</header>
  <button id="modeToggle">Switch to 1v1</button>
  <div id="leaderboardBox">
    <strong>üèÜ Leaderboard</strong><br/>
    <ol id="leaderboardList"></ol>
  </div>
  <canvas id="gameCanvas"></canvas>
  <footer>Made with ‚ù§Ô∏è by CutIt.sbs ‚ú¶ your vibe. your code.</footer>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let mode = "vsAI";
    let keys = {};
    const paddleWidth = 10, paddleHeight = 100;
    let playerY = 200, player2Y = 200;
    const ballSize = 10;
    let ballX = 300, ballY = 200;
    let ballSpeedX = 5, ballSpeedY = 4;
    const paddleSpeed = 8;
    let playerScore = 0, player2Score = 0;
    const leaderboard = JSON.parse(localStorage.getItem("cutit_leaderboard") || "[]");

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight - document.querySelector('header').offsetHeight - document.querySelector('footer').offsetHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function drawRect(x, y, w, h, color = "#fff") {
      ctx.fillStyle = color;
      ctx.fillRect(x, y, w, h);
    }

    function drawText(text, x, y, size = 36) {
      ctx.fillStyle = "#fff";
      ctx.font = `${size}px Antonio, sans-serif`;
      ctx.fillText(text, x, y);
    }

    function drawNet() {
      for (let i = 0; i < canvas.height; i += 30) {
        drawRect(canvas.width / 2 - 1, i, 2, 20, "#555");
      }
    }

    function draw() {
      drawRect(0, 0, canvas.width, canvas.height, "#000");
      drawNet();
      drawText(playerScore, canvas.width / 4, 50);
      drawText(player2Score, 3 * canvas.width / 4, 50);
      drawRect(20, playerY, paddleWidth, paddleHeight);
      drawRect(canvas.width - 30, player2Y, paddleWidth, paddleHeight);
      ctx.beginPath();
      ctx.arc(ballX, ballY, ballSize, 0, Math.PI * 2);
      ctx.fillStyle = "#fff";
      ctx.fill();
    }

    function resetBall() {
      ballX = canvas.width / 2;
      ballY = canvas.height / 2;
      ballSpeedX = -ballSpeedX;
      ballSpeedY = 4 * (Math.random() > 0.5 ? 1 : -1);
    }

    function update() {
      if (mode === "1v1") {
        if (keys["w"]) playerY -= paddleSpeed;
        if (keys["s"]) playerY += paddleSpeed;
        if (keys["ArrowUp"]) player2Y -= paddleSpeed;
        if (keys["ArrowDown"]) player2Y += paddleSpeed;
      } else {
        if (keys["w"]) playerY -= paddleSpeed;
        if (keys["s"]) playerY += paddleSpeed;

        let center = player2Y + paddleHeight / 2;
        if (center < ballY - 35) player2Y += paddleSpeed;
        else if (center > ballY + 35) player2Y -= paddleSpeed;
      }

      // Clamp paddles
      playerY = Math.max(0, Math.min(canvas.height - paddleHeight, playerY));
      player2Y = Math.max(0, Math.min(canvas.height - paddleHeight, player2Y));

      ballX += ballSpeedX;
      ballY += ballSpeedY;

      if (ballY <= 0 || ballY >= canvas.height) ballSpeedY *= -1;

      // Paddle collisions
      if (ballX < 30 && ballY > playerY && ballY < playerY + paddleHeight) {
        ballSpeedX *= -1;
        ballSpeedY += (ballY - (playerY + paddleHeight / 2)) * 0.3;
      }

      if (ballX > canvas.width - 40 && ballY > player2Y && ballY < player2Y + paddleHeight) {
        ballSpeedX *= -1;
        ballSpeedY += (ballY - (player2Y + paddleHeight / 2)) * 0.3;
      }

      if (ballX < 0) {
        player2Score++;
        resetBall();
      }

      if (ballX > canvas.width) {
        playerScore++;
        resetBall();
      }
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    window.addEventListener("keydown", e => keys[e.key] = true);
    window.addEventListener("keyup", e => keys[e.key] = false);

    function showLeaderboard() {
      const list = document.getElementById("leaderboardList");
      list.innerHTML = "";
      leaderboard.forEach(entry => {
        const li = document.createElement("li");
        li.textContent = `${entry.name}: ${entry.score}`;
        list.appendChild(li);
      });
    }

    function saveScore(name, score) {
      leaderboard.push({ name, score });
      leaderboard.sort((a, b) => b.score - a.score);
      leaderboard.splice(5);
      localStorage.setItem("cutit_leaderboard", JSON.stringify(leaderboard));
      showLeaderboard();
    }

    function checkHighScore() {
      const best = leaderboard[0]?.score || 0;
      if (playerScore > best) {
        const name = prompt("üéâ New High Score! Enter your initials:");
        if (name) {
          saveScore(name.toUpperCase(), playerScore);
        }
      }
    }

    window.addEventListener("beforeunload", () => checkHighScore());

    document.getElementById("modeToggle").onclick = () => {
      mode = mode === "vsAI" ? "1v1" : "vsAI";
      document.getElementById("modeToggle").textContent = mode === "1v1" ? "Switch to vs AI" : "Switch to 1v1";
    };

    // üéÆ TOUCH SUPPORT BELOW:
    canvas.addEventListener("touchmove", function(e) {
      e.preventDefault();
      for (const touch of e.touches) {
        const y = touch.clientY - canvas.getBoundingClientRect().top;
        const x = touch.clientX;
        if (mode === "vsAI") {
          playerY = y - paddleHeight / 2;
        } else {
          if (x < canvas.width / 2) {
            playerY = y - paddleHeight / 2;
          } else {
            player2Y = y - paddleHeight / 2;
          }
        }
      }
    }, { passive: false });

    showLeaderboard();
    loop();
  </script>
</body>
</html>
